(this["webpackJsonpspotify-clone"]=this["webpackJsonpspotify-clone"]||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},27:function(e,t,s){},29:function(e,t,s){},30:function(e,t,s){},37:function(e,t,s){},38:function(e,t,s){},39:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){"use strict";s.r(t);var c=s(1),n=s.n(c),a=s(8),i=s.n(a),r=(s(25),s(2)),o=(s(26),s(27),window.location.ref),l=function(){return window.location.hash.substring(14).split("&")[0]},j="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("0e25f14500c1485d9e1a7deda23dcac1","&redirect_uri=").concat(o,"&scope=").concat(["user-read-currently-playing","user-read-recently-played","user-read-playback-state","user-top-read","user-modify-playback-state"].join("%20"),"&response_type=token&show_dialog=true"),u=s(0);var b=function(){return Object(u.jsxs)("div",{className:"Login",children:[Object(u.jsx)("img",{className:"Login__logo",src:"https://music-b26f.kxcdn.com/wp-content/uploads/2017/06/635963274692858859903160895_spotify-logo-horizontal-black.jpg",alt:"Spotify logo"}),Object(u.jsx)("a",{className:"Login__link",href:j,children:"LOGIN WITH SPOTIFY"})]})},d=s(11),m=s.n(d),O=l(),h=null;O&&((h=new m.a).setAccessToken(O),console.log("spotify",h));s(29);var f=function(e){var t=e.title,s=e.Icon;return Object(u.jsx)("div",{className:"sidebarOption",children:s?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(s,{className:"sidebarOption__icon"}),Object(u.jsx)("h4",{children:t})]}):Object(u.jsx)("p",{children:t})})},p=s(17),x=s.n(p),g=s(19),_=s.n(g),v=s(58);s(30);var y=function(e){var t=e.onSelectPlaylist,s=n.a.useState([]),a=Object(r.a)(s,2),i=a[0],o=a[1];return Object(c.useEffect)((function(){h.getUserPlaylists().then((function(e){o(e.items)}))}),[]),Object(u.jsxs)("div",{className:"sidebar",children:[Object(u.jsx)("img",{className:"sidebar__logo",src:"https://music-b26f.kxcdn.com/wp-content/uploads/2017/06/635963274692858859903160895_spotify-logo-horizontal-black.jpg",alt:"Spotify logo"}),Object(u.jsxs)("div",{className:"sidebar__itemList",children:[Object(u.jsx)(f,{title:"Home",Icon:x.a}),Object(u.jsx)(f,{title:"Search",Icon:_.a}),Object(u.jsx)(f,{title:"Your Library",Icon:v.a}),Object(u.jsx)("br",{}),Object(u.jsx)("strong",{className:"sidebar__title",children:"PLAYLISTS"}),Object(u.jsx)("hr",{}),i.map((function(e){return Object(u.jsxs)("p",{className:"sidebar__playlist",onClick:function(){return t(e.id,e.name)},children:[" ",e.name]})}))]})]})},N=s(6),k=s.n(N),S=s(13);s(37);var w=function(e){var t=e.trackId,s=void 0===t?"0iifbrIaoCheb4HbbH4bwP":t,n=Object(c.useState)({}),a=Object(r.a)(n,2),i=a[0],o=a[1],l=Object(c.useState)(),j=Object(r.a)(l,2),b=j[0],d=j[1],m=Object(c.useState)(!1),O=Object(r.a)(m,2),f=O[0],p=O[1];function x(){return(x=Object(S.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=10;break}return p(!1),h.pause(),e.next=5,h.getMyCurrentPlayingTrack();case 5:t=e.sent,console.log("info",t),d(t),e.next=12;break;case 10:h.play({context_uri:i.album.uri,offset:{position:i.track_number-1},position_ms:(null===b||void 0===b?void 0:b.progress_ms)||0}),p(!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return(_=Object(S.a)(k.a.mark((function e(t){var s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("next"!=t){e.next=5;break}return e.next=3,h.skipToNext();case 3:e.next=7;break;case 5:return e.next=7,h.skipToPrevious();case 7:return e.next=9,h.getMyCurrentPlayingTrack();case 9:s=e.sent,o(s.item);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("track",i),console.log("trackid",s),Object(c.useEffect)((function(){h.getTrack(s).then((function(e){o(e)}))}),[s]),Object(u.jsx)("div",{className:"footer",children:i.album?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"footer__left",children:[Object(u.jsx)("img",{src:i.album.images[1].url,className:"footer__albumCover"}),Object(u.jsxs)("div",{className:"footer__songInfo",children:[Object(u.jsx)("h4",{children:i.name}),Object(u.jsx)("p",{children:i.artists[0].name})]})]}),Object(u.jsxs)("div",{className:"footer__center",children:[Object(u.jsx)("button",{onClick:function(){return g("previous")},children:Object(u.jsx)("i",{className:"material-icons md-light",children:"skip_previous"})}),Object(u.jsx)("button",{onClick:function(){return x.apply(this,arguments)},children:f?Object(u.jsx)("i",{className:"material-icons md-light",children:"pause_circle"}):Object(u.jsx)("i",{className:"material-icons md-light",children:"play_circle_outline"})}),Object(u.jsx)("button",{onClick:function(){return g("next")},children:Object(u.jsx)("i",{className:"material-icons md-light",children:"skip_next"})})]})]}):Object(u.jsx)("p",{children:"'loading'"})})},I=s.p+"static/media/vivien.5052eaa5.png";s(38);function C(e){var t=e.query,s=e.setQuery;return Object(u.jsx)("input",{className:"header__search",type:"search",placeholder:"Artists, songs, or podcasts",value:t,onChange:function(e){return s(e.target.value)}})}var P=function(e){var t=e.query,s=e.setQuery;return Object(u.jsxs)("div",{className:"header",children:[Object(u.jsx)(C,{query:t,setQuery:s}),Object(u.jsxs)("div",{className:"header__profile",children:[Object(u.jsx)("img",{className:"header__profilePicture",src:I,alt:"profile photo"}),Object(u.jsx)("p",{children:"Vivien Rose"})]})]})};s(39);var T=function(e){var t=e.styleName,s=e.songs,c=e.onSelectSong,n=e.playlistName;return Object(u.jsxs)("div",{className:t,children:[Object(u.jsx)("h1",{className:"songlist__title",children:n||"Songs"}),s.map((function(e){var t=e.track,s=t||e;return Object(u.jsxs)("div",{className:"songlist__songs",onClick:function(){return c(s.id)},children:[Object(u.jsx)("img",{className:"songlist__cover",src:s.album.images[2].url}),Object(u.jsxs)("div",{className:"songlist__info",children:[Object(u.jsx)("p",{className:"songlist__track",children:s.name}),Object(u.jsx)("p",{className:"songlist__artist",children:s.artists[0].name})]}),Object(u.jsx)("p",{className:"songlist__album",children:s.album.name})]})}))]})};s(40),s(41);var L=function(e){var t=e.artist;return Object(u.jsxs)("div",{className:"artist",children:[Object(u.jsx)("img",{className:"artist__photo",src:t.images[1].url}),Object(u.jsx)("h1",{className:"artist__name",children:t.name}),Object(u.jsx)("h5",{children:"ARTIST"})]})};var F=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)("37i9dQZF1DWVmps5U8gHNv"),i=Object(r.a)(a,2),o=i[0],l=i[1],j=Object(c.useState)(""),b=Object(r.a)(j,2),d=b[0],m=b[1],O=Object(c.useState)([]),f=Object(r.a)(O,2),p=f[0],x=f[1],g=Object(c.useState)(),_=Object(r.a)(g,2),v=_[0],N=_[1],k=Object(c.useState)("Essential Folk"),S=Object(r.a)(k,2),I=S[0],C=S[1];return Object(c.useEffect)((function(){h.getPlaylistTracks(o).then((function(e){var t=e.items;x(t)}))}),[o]),Object(c.useEffect)((function(){""!=s?h.search(s,["track","artist"]).then((function(e){console.log("result",e),x(e.tracks.items.slice(0,5)),m(e.artists.items[0])})):m("")}),[s]),Object(u.jsxs)("div",{className:"player",children:[Object(u.jsx)(P,{query:s,setQuery:n}),Object(u.jsx)(y,{onSelectPlaylist:function(e,t){l(e),C(t),m("")}}),d?Object(u.jsxs)("div",{className:"searchResults",children:[Object(u.jsx)(L,{artist:d}),Object(u.jsx)(T,{styleName:"searchResults__songlist",songs:p,onSelectSong:N})]}):Object(u.jsx)(T,{styleName:"songlist",playlistName:I,songs:p,onSelectSong:N}),Object(u.jsx)(w,{trackId:v})]})},E={token:l()},H=Object(c.createContext)(E),Q=l();var q=function(){var e=Object(c.useState)(),t=Object(r.a)(e,2),s=t[0],n=t[1];return Object(c.useEffect)((function(){console.log("token",Q),window.location.hash="",Q&&n(Q)}),[]),Object(u.jsx)(H.Provider,{value:E,children:Object(u.jsx)("div",{className:"app",children:s?Object(u.jsx)(F,{}):Object(u.jsx)(b,{})})})},A=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,59)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,i=t.getTTFB;s(e),c(e),n(e),a(e),i(e)}))};i.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(q,{})}),document.getElementById("root")),A()}},[[42,1,2]]]);
//# sourceMappingURL=main.7bd07449.chunk.js.map